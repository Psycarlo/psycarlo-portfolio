---
import { getCollection, render, type CollectionEntry } from 'astro:content'
import BlogLayout from '../../layouts/BlogLayout.astro'
import Layout from '../../layouts/Layout.astro'

export const prerender = true
export async function getStaticPaths() {
  const posts = await getCollection('blog')
  return posts.map((post) => ({
    params: { slug: post.id },
    props: post
  }))
}
type Props = CollectionEntry<'blog'>

const post = Astro.props
const { Content } = await render(post)
---

<Layout title={`${post.data.title} | Carlos Marques`} page="none">
  <BlogLayout {...post.data}>
    <Content />
  </BlogLayout>
</Layout>
