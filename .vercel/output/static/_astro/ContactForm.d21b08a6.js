import{w as E}from"./runtime-dom.esm-bundler.456ce127.js";import{_ as C}from"./_plugin-vue_export-helper.c27b6911.js";import{d as w,c as o,a as t,n as i,t as S,e as d,g as h,h as a,o as n}from"./runtime-core.esm-bundler.49db9ab2.js";const D=w({__name:"ContactForm",setup(v,{expose:f}){f();const r=a(),e=a(!1),s=a(!1),l=a(!1),u=a(!1),m=a(!1),c=a(!1),b=a(0);async function p(k){s.value=!1,c.value=!1,u.value=!1,m.value=!1,c.value=!1,l.value=!1,b.value=0;const y=new FormData(k.currentTarget),x=await(await fetch("/api/contact",{method:"POST",body:y})).json();if(r.value=x.message,r.value==="success"){const _=document.getElementById("contactform");_&&_.reset(),e.value=!0,setTimeout(function(){e.value=!1},2e3);return}console.log("hey3",r.value),r.value==="error/remote"&&(s.value=!0,l.value=!0,setTimeout(function(){s.value=!1,l.value=!1},2e3)),b.value=r.value instanceof Array?r.value.length:0,r.value?.includes("error/name")&&(u.value=!0),r.value?.includes("error/email")&&(m.value=!0),r.value?.includes("error/message")&&(c.value=!0)}const g={responseMessage:r,success:e,error:s,isRemote:l,nameError:u,emailError:m,messageError:c,errorCount:b,submit:p};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),N=["onSubmit"],T={class:"flex gap-3"},q=["disabled"],B={key:0,class:"absolute -bottom-6 text-xs font-medium text-brand-error left-[50%] -translate-x-[50%]"},M={key:0},F=t("br",null,null,-1),P={key:1},V=t("br",null,null,-1),j={key:2};function z(v,f,r,e,s,l){return n(),o("form",{class:"relative px-8 gap-3 flex flex-col mb-20",onSubmit:E(e.submit,["prevent"]),id:"contactform"},[t("div",T,[t("input",{class:i(["w-[50%] block px-4 border-0 bg-brand-lighty dark:bg-brand-dark outline-none rounded-lg py-4 focus:ring-2 ring-brand-light dark:ring-brand-grayDarkest duration-300 ring-offset-1 transition-all ring-offset-transparent",{"border-brand-error border-2":e.nameError}]),type:"text",id:"name",name:"name",placeholder:"Name",required:""},null,2),t("input",{class:i(["w-[50%] block px-4 border-0 bg-brand-lighty dark:bg-brand-dark outline-none rounded-lg py-4 focus:ring-2 ring-brand-light dark:ring-brand-grayDarkest duration-300 ring-offset-1 transition-all ring-offset-transparent",{"border-brand-error border-2":e.emailError}]),type:"email",id:"email",name:"email",placeholder:"Email",required:""},null,2)]),t("textarea",{class:i(["h-52 p-4 resize-none bg-brand-lighty dark:bg-brand-dark focus:outline-none dark:ring-brand-grayDarkest rounded-lg focus:ring-2 ring-brand-light outline-none duration-300 ring-offset-1 transition-all ring-offset-transparent",{"border-brand-error border-2":e.messageError}]),id:"message",name:"message",placeholder:"Message",required:""},null,2),t("button",{type:"submit",class:i(["py-3 w-full font-medium duration-300 transition-colors rounded-lg text-brand-lightest dark:text-brand-lightest",[e.success?"bg-brand-success":e.error?"bg-brand-error":"bg-brand-darkest dark:bg-brand-dark hover:bg-brand-dark dark:hover:bg-brand-grayDarkest"]]),disabled:e.error},S(e.success?"Sent successfully!":e.error?"Error sending":"Submit Inquiry"),11,q),e.isRemote?(n(),o("p",B,"Unable to send. Please try again later.")):d("",!0),e.nameError||e.emailError||e.messageError?(n(),o("p",{key:1,class:i(["text-center absolute text-xs font-medium text-brand-error left-[50%] -translate-x-[50%]",{"-bottom-8":e.errorCount===1,"-bottom-10":e.errorCount===2,"-bottom-14":e.errorCount===3}])},[e.nameError?(n(),o("span",M,[h("Name must be at least 2 characters"),F])):d("",!0),e.emailError?(n(),o("span",P,[h("Email must be valid"),V])):d("",!0),e.messageError?(n(),o("span",j,"Message should be at least 2 characters")):d("",!0)],2)):d("",!0)],40,N)}const G=C(D,[["render",z]]);export{G as default};
